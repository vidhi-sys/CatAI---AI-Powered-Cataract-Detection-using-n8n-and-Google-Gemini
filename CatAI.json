{
  "name": "CatAI",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "cat-ai",
        "responseMode": "lastNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        0,
        0
      ],
      "id": "bed92b41-be6f-4986-ac38-8150da464f71",
      "name": "Webhook",
      "webhookId": "3fa14d7d-0c23-40cf-90b2-17469e1327a5"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "analyse the image and tell stage of catacrct below by analysing the ataracts are classified by their location (e.g., nuclear, cortical, posterior subcapsular) and their maturity. A common staging model for progression includes:StageKey CharacteristicsTypical SymptomsStage 1: Early/Immature CataractMinimal clouding of the lens. Often only visible during a dilated eye exam.May be asymptomatic. Possible mild blurring, slight light sensitivity, or halos around lights.Stage 2: Immature/Developing CataractClouding becomes more noticeable and begins to scatter light.Vision changes are more obvious. Blurred vision, colors appear less vibrant/faded, difficulty reading, and poor night vision.Stage 3: Mature CataractSignificant to complete opacification (clouding) of the lens. The cataract may appear yellow or white.Pronounced blurriness or haziness, significant difficulty with daily tasks like driving or recognizing faces, and severely compromised vision.Stage 4: Hypermature/Advanced CataractThe lens hardens and may shrink. This advanced stage carries a higher risk of complications.Vision is severely limited, often only perceiving light and dark with minimal detail.Preventive Measures and Lifestyle RecommendationsWhile age is the most significant risk factor for cataracts, certain diet and lifestyle modifications can help lower your risk or slow the progression.1. Dietary and Nutritional FocusA diet rich in antioxidants helps protect the eye's lens from oxidative stress, a primary cause of cataract formation.NutrientBenefit for Eye HealthExcellent Food SourcesVitamin C (Ascorbic Acid)Powerful antioxidant; helps maintain the structural integrity of the lens and is associated with a reduced cataract risk.Citrus fruits (oranges, grapefruit), strawberries, kiwi, red and green bell peppers, broccoli.Vitamin EA fat-soluble antioxidant that protects cell membranes, including those in the eye.Almonds, sunflower seeds, peanuts, wheat germ oil, spinach, broccoli.Lutein and ZeaxanthinCarotenoids concentrated in the retina that filter harmful high-energy blue light and reduce oxidative damage.Dark green leafy vegetables (kale, spinach, collard greens), eggs, corn, sweet potatoes.Omega-3 Fatty AcidsMay help reduce inflammation and are associated with a decreased risk of cataracts.Fatty fish (salmon, tuna, sardines), walnuts, flaxseeds.Dietary Goals: Aim for 5 to 9 servings of fruits and vegetables daily, and incorporate healthy fats and nuts.2. Eye ProtectionWear UV-Blocking Sunglasses: Long-term exposure to ultraviolet (UV) light damages the proteins in the lens. Wear sunglasses that block 99% to 100% of both UVA and UVB rays whenever you are outdoors, even on cloudy days.Wear Protective Eyewear: Use safety glasses or goggles during activities that pose a risk of eye injury (e.g., yard work, using power tools, contact sports).",
        "hasOutputParser": true,
        "options": {
          "passthroughBinaryImages": true
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        208,
        0
      ],
      "id": "2ffa1c9a-72b7-455a-82de-04ac93cb0fb3",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        64,
        208
      ],
      "id": "aa1577f0-8013-463d-9d5f-9dcdecabf069",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "O0ljomU5Abhvqhal",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"status\": \"success\",\n  \"input\": {\n    \"image\": \"patient_001_eye_scan.png\",\n    \"model_version\": \"v1.0.2\"\n  },\n  \"results\": [\n    {\n      \"eye\": \"left\",\n      \"prediction\": \"No Cataract\",\n      \"confidence\": 0.98,\n      \"stage\": \"None\",\n      \"intensity_score\": 0.02\n    },\n    {\n      \"eye\": \"right\",\n      \"prediction\": \"Cataract Detected\",\n      \"confidence\": 0.93,\n      \"stage\": \"Moderate\",\n      \"intensity_score\": 0.67\n    }\n  ],\n  \"summary\": {\n    \"overall_result\": \"Cataract Detected in Right Eye\",\n    \"severity_level\": \"Moderate\",\n    \"recommendation\": \"Consult ophthalmologist for further examination\",\n    \"risk_level\": \"Medium\"\n  },\n  \"metadata\": {\n    \"model_name\": \"CataractNet\",\n    \"timestamp\": \"2025-10-19T12:45:00Z\",\n    \"processing_time_ms\": 156\n  }\n}\n",
        "autoFix": true
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        384,
        208
      ],
      "id": "b4a7cb59-6bc1-4812-8163-50c658e630b5",
      "name": "Structured Output Parser"
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "33b8ddb3-d14b-47a4-bace-3df98f24550c",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "ad9a2fda24ac9abf395af560224010b2acf8c5be0117660946a743732728abb7"
  },
  "id": "ecFVj4Pi6pDyycy5",
  "tags": []
}